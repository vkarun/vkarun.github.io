function setCookie(e, r, t) { var i = new Date; i.setTime(i.getTime() + 24 * t * 60 * 60 * 1e3); var o = "expires=" + i.toUTCString(); document.cookie = e + "=" + r + "; " + o } function getCookie(e) { for (var r = e + "=", t = document.cookie.split(";"), i = 0; i < t.length; i++) { for (var o = t[i]; " " == o.charAt(0) ;) o = o.substring(1); if (0 == o.indexOf(r)) return o.substring(r.length, o.length) } return "" } function KitsuneSearch(e) { if (e) { e = e.replace(/[^a-zA-Z0-9]/g, " ").trim().replace(/\s\s*/g, "-"); var r = $("[id='GET-URL(HOME)']:first").attr("href"); window.location.href = r + "/search/" + e } } function KitsuneBusinessEnquiry(e, r, t) { if (!e) return void t("Please provide valid input."); var i = $("[id='GET-VALUE(FLOATING-ID)']").text(), o = e.eType, n = e.eId, a = e.eMsg, s = e.eCnt; if (!a) return void (t && t("Sorry, but that doesnt look like much of a query. Want to type something first?")); if (!s) return void (t && t("Please enter email ID / Mobile number.")); if (isNaN(parseFloat(s))) { var l = new RegExp(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{1,20}$/); if (null == l.exec(s)) return void (t && t("Please enter valid email.")) } else if (s.length < 6 || s.length > 12) return void (t && t("Please enter valid mobile number.")); $.post("https://nowfloats.com/fp/home/submitrequest?jsoncallback=?", { c: s, m: a, i: i, t: o, eid: n }).success(function (e) { "OK" == e && r && (window._paq.push(["trackEvent", "Business-Enquiry", s, o]), r("Thank you for contacting us. We will get back to you shortly.")) }).error(function () { t && t("Something went wrong!! Please try again.") }) } function KitsuneSubscribe(e, r, t) { var i = e, o = $('[id="GET-VALUE(FLOATING-TAG)"]').html(); if (isNaN(parseFloat(i))) { var n = new RegExp(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{1,20}$/); if (null == n.exec(i)) return void (t && t("Invalid email.")) } else { if ("True" == $('[k-WidgetProp="Is-SMS-Subscription-Enabled"]').html() && 10 != i.length) return void (t && t("Please enter 10-digit mobile number.")); if (!isNaN(parseFloat(i)) && "False" == $('[k-WidgetProp="Is-SMS-Subscription-Enabled"]').text()) return void (t && t("Only email subscription available.")) } i ? $.ajax({ url: "https://nowfloats.com/fp/home/Subscribe?", data: { tag: o, mobileNumber: i }, method: "GET", success: function (e) { "OK" == e ? r && (r("You've successfully subscribed."), window._paq.push(["trackEvent", "subscription", i])) : "FAIL" == e && t && t("Unable to process the request now. Please try again later.") }, error: function (e) { t && t("You've successfully subscribed.") } }) : t && t("Please enter 10-digit mobile number or a valid email address.") } function KitsuneViewCount(e, r, t) { (!e || e.length < 24) && t("Please provide valid id."), $.ajax({ url: "https://api.withfloats.com/Discover/v1/floatingpoint/bizMessage/viewCount/?clientId=731EBAB8596648E79882096E4733E7173B314BECC649423DB67897BF8CC596EC&messageId=" + e, method: "GET", success: function (e) { r && r(e) }, error: function (e) { t && t(e) } }) } function KitsuneProductViewCount(e, r, t) { (!e || e.length < 24) && t("Please provide valid id."), $.ajax({ url: "https://api.withfloats.com/Discover/v1/floatingpoint/product/viewCount/?clientId=731EBAB8596648E79882096E4733E7173B314BECC649423DB67897BF8CC596EC&messageId=" + e, method: "GET", success: function (e) { r && r(e) }, error: function (e) { t && t(e) } }) } function KitsuneCODRequest(e, r, t) { if (!e) return void (error && error("Request object can not be null.")); if (!e.pId) return void (error && error("Product Id is not valid.")); if (!e.quantity || !parseInt(e.quantity) || parseInt(e.quantity) < 1) return void (error && error("Quantity is not valid.")); if (!e.name) return void (error && error("Please enter name.")); if (!e.email) return void (error && error("Please enter email.")); var i = new RegExp(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{1,20}$/); return e.email || null != i.exec(e.email) ? e.mobile ? !isNaN(parseFloat(e.mobile)) && (e.mobile.length < 6 || e.mobile.length > 12) ? void (error && error("Please enter valid mobile number.")) : e.address1 ? e.city ? e.state ? e.country ? e.pincode ? void $.post("https://nowfloats.com/fp/home/ProcessCODRequest?jsoncallback=?", { productId: e.pId, quantity: e.quantity, name: e.name, email: e.email, mobile: e.mobile, address1: e.address1, city: e.city, state: e.state, country: e.country, pincode: e.pincode }).success(function (t) { r && (window._paq.push(["trackEvent", "COD", e.pId]), r("Your order has been successfully placed. An email with the shipment details will be sent to the email ID you provided.")) }).error(function () { t && t("ERROR : We failed to process your request. Please try again.") }) : void (error && error("Please enter Pin Code.")) : void (error && error("Please enter country.")) : void (error && error("Please enter state.")) : void (error && error("Please enter city.")) : void (error && error("Please enter address.")) : void (error && error("Please enter mobile number.")) : void (error && error("Please enter valid email.")) } window.onload = function () { if (!getCookie("ThemeId")) { var e = $("[id='GET-VALUE(THEME-ID)']").text(); e && setCookie("ThemeId", e, 30) } };